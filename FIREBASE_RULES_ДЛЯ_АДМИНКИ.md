# üîê –ü—Ä–∞–≤–∏–ª–∞ Firebase Firestore –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞–¥–º–∏–Ω–∫–æ–π

## üö® –í–ê–ñ–ù–û: –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–ß—Ç–æ–±—ã –≤–∞—à–∞ –∞–¥–º–∏–Ω–∫–∞ –º–æ–≥–ª–∞ —Å–æ–∑–¥–∞–≤–∞—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –≤–∞–∫–∞–Ω—Å–∏–∏, –∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç –º–æ–≥ –∏—Ö —á–∏—Ç–∞—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –ø—Ä–∞–≤–∏–ª–∞:

## –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è)

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // –í–∞–∫–∞–Ω—Å–∏–∏ - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è –≤—Å–µ—Ö (–ø–æ–∫–∞ –±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
    match /vacancies/{document} {
      allow read, write: if true;
    }

    // –ó–∞—è–≤–∫–∏ - —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    match /applications/{document} {
      allow create: if true;
      allow read, update, delete: if false;
    }

    // –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ (features) - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
    match /features/{document} {
      allow read, write: if true;
    }

    // –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω–æ–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
```

## –í–∞—Ä–∏–∞–Ω—Ç 2: –ë–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ–º–µ–Ω–∞)

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–¥–º–∏–Ω—Å–∫–æ–≥–æ –¥–æ–º–µ–Ω–∞
    function isAdminDomain() {
      return request.headers.origin != null &&
             (request.headers.origin.matches('.*localhost.*') ||
              request.headers.origin.matches('.*your-admin-domain\\.netlify\\.app.*') ||
              request.headers.origin.matches('.*your-admin-domain\\.com.*'));
    }

    // –í–∞–∫–∞–Ω—Å–∏–∏
    match /vacancies/{document} {
      allow read: if true; // –ß—Ç–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö
      allow write: if isAdminDomain(); // –ó–∞–ø–∏—Å—å —Ç–æ–ª—å–∫–æ —Å –∞–¥–º–∏–Ω–∫–∏
    }

    // –ó–∞—è–≤–∫–∏ - —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–∏–µ —Å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–∞–π—Ç–∞
    match /applications/{document} {
      allow create: if true;
      allow read, update, delete: if isAdminDomain(); // –ê–¥–º–∏–Ω–∫–∞ –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –∑–∞—è–≤–∫–∏
    }

    // –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
    match /features/{document} {
      allow read: if true;
      allow write: if isAdminDomain();
    }

    match /{document=**} {
      allow read, write: if false;
    }
  }
}
```

## –í–∞—Ä–∏–∞–Ω—Ç 3: –° –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π (—Å–∞–º—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π)

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞–¥–º–∏–Ω–∞ (–Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Firebase Auth)
    function isAdmin() {
      return request.auth != null &&
             request.auth.token.email != null &&
             request.auth.token.email.matches('.*@yourdomain\\.com');
    }

    // –í–∞–∫–∞–Ω—Å–∏–∏
    match /vacancies/{document} {
      allow read: if true; // –ß—Ç–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö
      allow write: if isAdmin(); // –ó–∞–ø–∏—Å—å —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
    }

    // –ó–∞—è–≤–∫–∏
    match /applications/{document} {
      allow create: if true; // –°–æ–∑–¥–∞–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö
      allow read, update, delete: if isAdmin(); // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∞–º
    }

    // –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
    match /features/{document} {
      allow read: if true;
      allow write: if isAdmin();
    }

    match /{document=**} {
      allow read, write: if false;
    }
  }
}
```

## üöÄ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ

**–î–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç 1:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ Firebase Console
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Firestore Database ‚Üí Rules
3. –ó–∞–º–µ–Ω–∏—Ç–µ —Ç–µ–∫—É—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞ –∫–æ–¥ –∏–∑ –í–∞—Ä–∏–∞–Ω—Ç–∞ 1
4. –ù–∞–∂–º–∏—Ç–µ "–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å"

–≠—Ç–æ –¥–∞—Å—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –≤–∞–∫–∞–Ω—Å–∏—è–º –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞–º, —Å–æ—Ö—Ä–∞–Ω–∏–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞—è–≤–æ–∫.

## üîí –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç 3:

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Firebase Authentication**
2. **–î–æ–±–∞–≤—å—Ç–µ –ª–æ–≥–∏–Ω –≤ –∞–¥–º–∏–Ω–∫—É**
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- **–í–∞—Ä–∏–∞–Ω—Ç 1** - –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–í–∞—Ä–∏–∞–Ω—Ç 2** - —Å—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **–í–∞—Ä–∏–∞–Ω—Ç 3** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

---
*–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª –≤–∞—à–∞ –∞–¥–º–∏–Ω–∫–∞ —Å–Ω–æ–≤–∞ —Å–º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –≤–∞–∫–∞–Ω—Å–∏—è–º–∏!*
