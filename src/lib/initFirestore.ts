import { addDoc, collection } from "firebase/firestore";
import { db } from "./firebase";

// Начальные данные для загрузки в Firestore
const initialVacancies = [
  {
    title: "Комплектовщик на склад",
    company: "Логистический центр СДЭК",
    location: "Москва", 
    salary: {
      min: 90000,
      max: 110000,
      currency: "₽"
    },
    experience: "Не требуется",
    employment_type: "Вахтовый метод",
    description: `Мы приглашаем вас присоединиться к нашей команде в качестве комплектовщика на современном складе. Это отличная возможность для тех, кто ищет стабильную работу с достойной оплатой.

ОБЯЗАННОСТИ:
- Комплектация заказов по накладным
- Размещение товаров в зонах хранения
- Проверка качества и количества товаров
- Работа с системой учета товаров

МЫ ПРЕДЛАГАЕМ:
- Официальное трудоустройство согласно ТК РФ
- Стабильную заработную плату без задержек
- Бесплатное проживание в комфортабельном общежитии
- Компенсацию проезда до места работы
- Организованное питание`,
    requirements: [
      "Ответственность и внимательность",
      "Физическая выносливость",
      "Готовность к работе в команде",
      "Желание работать и развиваться"
    ],
    benefits: [
      "Бесплатное проживание",
      "Компенсация проезда",
      "Организованное питание",
      "Стабильная зарплата",
      "Социальный пакет"
    ],
    status: "active"
  },
  {
    title: "Упаковщик на производство",
    company: "Производственная компания Альфа",
    location: "Санкт-Петербург",
    salary: {
      min: 85000,
      max: 100000,
      currency: "₽"
    },
    experience: "Не требуется",
    employment_type: "Вахтовый метод",
    description: `Требуется упаковщик на современное производство. Работа в теплом помещении с современным оборудованием.

ОБЯЗАННОСТИ:
- Упаковка готовой продукции
- Контроль качества упаковки
- Маркировка продукции
- Подготовка к отгрузке

МЫ ПРЕДЛАГАЕМ:
- Работу в современных условиях
- Обучение и профессиональный рост
- Полный социальный пакет
- Своевременную выплату заработной платы`,
    requirements: [
      "Внимательность к деталям",
      "Готовность к монотонной работе",
      "Ответственность",
      "Пунктуальность"
    ],
    benefits: [
      "Современные условия труда",
      "Обучение за счет компании",
      "Медицинская страховка",
      "Премии по результатам работы"
    ],
    status: "active"
  },
  {
    title: "Рабочий строительной специальности",
    company: "Строительная компания Рассвет",
    location: "Екатеринбург",
    salary: {
      min: 95000,
      max: 120000,
      currency: "₽"
    },
    experience: "От 1 года",
    employment_type: "Вахтовый метод",
    description: `Приглашаем опытного рабочего строительной специальности для работы на крупных объектах.

ОБЯЗАННОСТИ:
- Выполнение строительно-монтажных работ
- Соблюдение технологии строительства
- Работа с различными материалами
- Поддержание порядка на строительной площадке

МЫ ПРЕДЛАГАЕМ:
- Высокую заработную плату
- Работу на крупных проектах
- Возможность профессионального роста
- Полное обеспечение инструментом`,
    requirements: [
      "Опыт в строительстве от 1 года",
      "Знание строительных технологий",
      "Физическая выносливость",
      "Соблюдение техники безопасности"
    ],
    benefits: [
      "Высокая заработная плата",
      "Предоставление инструмента",
      "Спецодежда и СИЗ",
      "Карьерный рост"
    ],
    status: "active"
  }
];

export async function initializeFirestoreData() {
  try {
    console.log("Загрузка начальных данных в Firestore...");
    
    for (const vacancy of initialVacancies) {
      await addDoc(collection(db, "vacancies"), {
        ...vacancy,
        viewCount: Math.floor(Math.random() * 500) + 100,
        createdAt: new Date(),
        updatedAt: new Date()
      });
    }
    
    console.log("Данные успешно загружены в Firestore!");
    return true;
  } catch (error) {
    console.error("Ошибка при загрузке данных:", error);
    return false;
  }
}